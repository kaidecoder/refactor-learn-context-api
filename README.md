Refactoring to include a useReducer
